import time
import random

class Road:
    def _init_(self, name):
        self.name = name
        self.queue = []

    def add_vehicle(self):
        vehicle = f"Car{random.randint(100, 999)}"
        self.queue.append(vehicle)
        print(f"{vehicle} arrived at {self.name} road.")

    def pass_vehicles(self, count=3):
        print(f"Green light for {self.name} road.")
        for _ in range(min(count, len(self.queue))):
            passed = self.queue.pop(0)
            print(f"{passed} passed through {self.name} road.")
        print(f"{self.name} road now has {len(self.queue)} vehicles.")

class TrafficManager:
    def _init_(self):
        self.roads = {
            "North": Road("North"),
            "East": Road("East"),
            "South": Road("South"),
            "West": Road("West")
        }

    def simulate_vehicle_arrival(self):
        # Random vehicles arrive on random roads
        road = random.choice(list(self.roads.values()))
        vehicles_arriving = random.randint(1, 3)
        for _ in range(vehicles_arriving):
            road.add_vehicle()

    def get_most_busy_road(self):
        return max(self.roads.values(), key=lambda r: len(r.queue))

    def run(self, rounds=10):
        for i in range(rounds):
            print(f"\n--- Round {i+1} ---")
            self.simulate_vehicle_arrival()

            busy_road = self.get_most_busy_road()
            busy_road.pass_vehicles()

            print("-------------------")
            time.sleep(2)

if _name_ == "_main_":
    manager = TrafficManager()
    manager.run()
